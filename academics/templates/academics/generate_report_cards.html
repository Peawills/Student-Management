{% extends 'records/base.html' %}
{% block title %}Generate Report Cards{% endblock %}
{% block content %}
<div class="container mx-auto px-4 py-6 max-w-3xl">
    <div class="mb-6">
        <h2 class="text-2xl md:text-3xl font-bold text-gray-800 flex items-center gap-3">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5 inline-block" title="file-earmark-text text-primary-500"></svg> Generate Report Cards
        </h2>
    </div>

    <div class="bg-blue-50 border-l-4 border-blue-500 p-6 rounded-xl mb-6">
        <h5 class="text-lg font-bold text-blue-800 mb-2">Bulk Generation</h5>
        <p class="text-blue-700 mb-3">This will generate report cards for all students in the selected class and term.</p>
        <hr class="my-4 border-blue-300">
        <p class="text-blue-700 mb-0">Make sure all term results have been calculated before generating report cards.</p>
    </div>

    <div class="bg-white rounded-2xl shadow-lg p-6">
        <form method="post">
            {% csrf_token %}

            <div class="space-y-5">
                <div>
                    <label for="{{ form.term.id_for_label }}" class="block text-sm font-semibold text-gray-700 mb-2">
                        Select Term <span class="text-red-600">*</span>
                    </label>
                    {{ form.term }}
                    {% if form.term.errors %}
                    <div class="text-red-600 text-sm mt-1">{{ form.term.errors.0 }}</div>
                    {% endif %}
                </div>

                <div>
                    <label for="{{ form.classroom.id_for_label }}" class="block text-sm font-semibold text-gray-700 mb-2">
                        Select Class <span class="text-red-600">*</span>
                    </label>
                    {{ form.classroom }}
                    {% if form.classroom.errors %}
                    <div class="text-red-600 text-sm mt-1">{{ form.classroom.errors.0 }}</div>
                    {% endif %}
                </div>

                <div>
                    <label for="{{ form.class_teacher_remarks.id_for_label }}" class="block text-sm font-semibold text-gray-700 mb-2">Class Teacher Remarks</label>
                    {{ form.class_teacher_remarks }}
                    {% if form.class_teacher_remarks.errors %}
                    <div class="text-red-600 text-sm mt-1">{{ form.class_teacher_remarks.errors.0 }}</div>
                    {% endif %}
                    <small class="text-gray-500 text-xs mt-1 block">This remark will apply to all students</small>
                </div>

                <div>
                    <label for="{{ form.principal_remarks.id_for_label }}" class="block text-sm font-semibold text-gray-700 mb-2">Principal Remarks</label>
                    {{ form.principal_remarks }}
                    {% if form.principal_remarks.errors %}
                    <div class="text-red-600 text-sm mt-1">{{ form.principal_remarks.errors.0 }}</div>
                    {% endif %}
                    <small class="text-gray-500 text-xs mt-1 block">This remark will apply to all students</small>
                </div>
            </div>

            <div class="mt-8 flex flex-col sm:flex-row gap-3">
                <button type="submit" class="inline-flex items-center justify-center gap-2 px-6 py-3 bg-primary-600 text-white font-semibold rounded-lg hover:bg-primary-700 transition-colors">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5 inline-block" title="gear"></svg> Generate Report Cards
                </button>
                <a href="{% url 'academics:report_card_list' %}" class="inline-flex items-center justify-center gap-2 px-6 py-3 bg-gray-200 text-gray-800 font-semibold rounded-lg hover:bg-gray-300 transition-colors">
                    Cancel
                </a>
            </div>
        </form>
    </div>
</div>

<style>
    .form-input,
    .form-select,
    .form-textarea {
        @apply block w-full px-4 py-2.5 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500/50 focus:border-primary-500 transition-all;
    }
    .form-textarea {
        @apply resize-y min-h-[100px];
    }
</style>
{% endblock %}
